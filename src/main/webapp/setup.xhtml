<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body> 
	<div id="header">
		<ui:insert name="header">
			<ui:include src="/templates/menu.xhtml" />
		</ui:insert>
	</div>
	<br />

	<h:form id="new-setup" enctype="multipart/form-data">
		<p:messages id="messages" showDetail="false" closable="true">
			<p:autoUpdate />
		</p:messages>

		<p:panel id="panel">
			<h2>New Setup</h2>
			<h:panelGrid columns="2" cellpadding="4">
				<h:outputText value="Name " />
				<p:inputText id="name" value="#{setupBean.setup.name}"
					required="true" requiredMessage="Name é obrigatório" />
				<h:outputText value="Description" />
				<p:inputTextarea id="description"
					value="#{setupBean.setup.description}" required="true"
					requiredMessage="Description é obrigatório"
					validatorMessage="Mínimo de 50 caracteres">
					<f:validateLength minimum="50" />
				</p:inputTextarea>
				<h:outputText value="Price" />
				<p:inputText id="price" value="#{setupBean.setup.price}"
					required="true" converterMessage="Tipo de price inválido"
					requiredMessage="Price é obrigatório"
					validatorMessage="Valor mínimo maior que zero">
					<f:validateDoubleRange minimum="0.01" />
				</p:inputText>
				
				<h:outputText value="Image" />
				<p:fileUpload value="#{setupBean.file}" mode="simple" skinSimple="true"/>
				
				<p:commandButton id="submit" value="Save"
					action="#{setupBean.save()}" icon="pi pi-save" update="panel"/>
				<p:commandButton id="cancel" value="Cancel" action="home.xhtml"
					styleClass="ui-button-secondary" icon="pi pi-times" update="panel" />
			</h:panelGrid>
		</p:panel>
	</h:form>
</h:body>
</html>
